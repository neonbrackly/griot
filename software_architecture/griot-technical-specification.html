<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Griot Data Technologies - Technical Specification</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    
    @media print {
      body { font-size: 11pt; }
      .page-break { page-break-before: always; }
      .no-print { display: none; }
    }
    
    body {
      font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, sans-serif;
      line-height: 1.6;
      color: #1a1a2e;
      background: #fff;
      max-width: 900px;
      margin: 0 auto;
      padding: 40px 20px;
    }
    
    /* Cover Page */
    .cover {
      min-height: 90vh;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      border-bottom: 3px solid #7b2cbf;
      margin-bottom: 60px;
      padding-bottom: 60px;
    }
    
    .cover-logo {
      font-size: 4rem;
      font-weight: 800;
      background: linear-gradient(135deg, #7b2cbf, #00d4ff);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 20px;
    }
    
    .cover-subtitle {
      font-size: 1.5rem;
      color: #666;
      margin-bottom: 40px;
    }
    
    .cover-title {
      font-size: 2.2rem;
      font-weight: 700;
      color: #1a1a2e;
      margin-bottom: 20px;
    }
    
    .cover-version {
      font-size: 1rem;
      color: #888;
      margin-top: 60px;
    }
    
    .cover-tagline {
      font-size: 1.1rem;
      color: #7b2cbf;
      font-style: italic;
      margin-top: 30px;
      padding: 20px 40px;
      border-left: 4px solid #7b2cbf;
      background: #f8f4ff;
      text-align: left;
    }
    
    /* Table of Contents */
    .toc {
      margin-bottom: 60px;
    }
    
    .toc h2 {
      font-size: 1.8rem;
      margin-bottom: 30px;
      color: #1a1a2e;
      border-bottom: 2px solid #7b2cbf;
      padding-bottom: 10px;
    }
    
    .toc-list {
      list-style: none;
    }
    
    .toc-list li {
      padding: 12px 0;
      border-bottom: 1px solid #eee;
      display: flex;
      justify-content: space-between;
    }
    
    .toc-list li a {
      color: #1a1a2e;
      text-decoration: none;
    }
    
    .toc-list li a:hover {
      color: #7b2cbf;
    }
    
    .toc-section {
      font-weight: 600;
    }
    
    .toc-subsection {
      padding-left: 20px;
      color: #666;
    }
    
    /* Headings */
    h1 {
      font-size: 2rem;
      color: #1a1a2e;
      margin: 60px 0 30px;
      padding-bottom: 15px;
      border-bottom: 3px solid #7b2cbf;
    }
    
    h2 {
      font-size: 1.5rem;
      color: #1a1a2e;
      margin: 40px 0 20px;
      padding-bottom: 10px;
      border-bottom: 1px solid #ddd;
    }
    
    h3 {
      font-size: 1.2rem;
      color: #333;
      margin: 30px 0 15px;
    }
    
    h4 {
      font-size: 1rem;
      color: #555;
      margin: 20px 0 10px;
    }
    
    /* Content */
    p {
      margin-bottom: 15px;
      text-align: justify;
    }
    
    ul, ol {
      margin: 15px 0 15px 25px;
    }
    
    li {
      margin-bottom: 8px;
    }
    
    /* Tables */
    table {
      width: 100%;
      border-collapse: collapse;
      margin: 20px 0;
      font-size: 0.9rem;
    }
    
    th, td {
      padding: 12px;
      text-align: left;
      border: 1px solid #ddd;
    }
    
    th {
      background: #7b2cbf;
      color: white;
      font-weight: 600;
    }
    
    tr:nth-child(even) {
      background: #f9f9f9;
    }
    
    /* Code */
    code {
      background: #f4f4f4;
      padding: 2px 6px;
      border-radius: 3px;
      font-family: 'Consolas', 'Monaco', monospace;
      font-size: 0.9em;
    }
    
    pre {
      background: #1a1a2e;
      color: #e0e0e0;
      padding: 20px;
      border-radius: 8px;
      overflow-x: auto;
      margin: 20px 0;
      font-size: 0.85rem;
      line-height: 1.5;
    }
    
    pre code {
      background: none;
      padding: 0;
      color: inherit;
    }
    
    /* Callouts */
    .callout {
      padding: 20px;
      border-radius: 8px;
      margin: 20px 0;
    }
    
    .callout-info {
      background: #e8f4fd;
      border-left: 4px solid #00d4ff;
    }
    
    .callout-warning {
      background: #fff8e6;
      border-left: 4px solid #ffaa00;
    }
    
    .callout-success {
      background: #e6f9ed;
      border-left: 4px solid #00ff88;
    }
    
    .callout-purple {
      background: #f8f4ff;
      border-left: 4px solid #7b2cbf;
    }
    
    /* Pillars */
    .pillars {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 20px;
      margin: 30px 0;
    }
    
    .pillar {
      padding: 25px;
      border-radius: 12px;
      text-align: center;
    }
    
    .pillar-audit {
      background: linear-gradient(135deg, #ff006e15, #ff006e05);
      border: 2px solid #ff006e;
    }
    
    .pillar-analytics {
      background: linear-gradient(135deg, #00d4ff15, #00d4ff05);
      border: 2px solid #00d4ff;
    }
    
    .pillar-ai {
      background: linear-gradient(135deg, #7b2cbf15, #7b2cbf05);
      border: 2px solid #7b2cbf;
    }
    
    .pillar h4 {
      margin: 10px 0;
      font-size: 1.1rem;
    }
    
    .pillar-icon {
      font-size: 2rem;
    }
    
    /* Stats */
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 20px;
      margin: 30px 0;
    }
    
    .stat-card {
      background: #f8f4ff;
      padding: 25px;
      border-radius: 12px;
      text-align: center;
    }
    
    .stat-number {
      font-size: 2.5rem;
      font-weight: 700;
      color: #7b2cbf;
    }
    
    .stat-label {
      color: #666;
      font-size: 0.9rem;
    }
    
    /* Section numbering */
    .section-num {
      color: #7b2cbf;
      font-weight: 700;
    }
    
    /* Footer */
    .doc-footer {
      margin-top: 80px;
      padding-top: 30px;
      border-top: 2px solid #eee;
      text-align: center;
      color: #888;
      font-size: 0.9rem;
    }
  </style>
</head>
<body>

<!-- Cover Page -->
<div class="cover">
  <div class="cover-logo">GRIOT</div>
  <div class="cover-subtitle">Data Technologies</div>
  <div class="cover-title">Technical Specification Document</div>
  <p style="font-size: 1.1rem; color: #666;">Enterprise Data Contract Platform</p>
  
  <div class="cover-tagline">
    "Data Efficiency is the New EBITDA. We eliminate the 'Data Cleanup Tax,' automate compliance, and bridge the AI knowledge gap."
  </div>
  
  <div class="cover-version">
    Version 1.0.0<br>
    January 2025<br><br>
    <strong>Classification:</strong> Internal / Partner Use
  </div>
</div>

<!-- Table of Contents -->
<div class="toc page-break">
  <h2>Table of Contents</h2>
  <ol class="toc-list">
    <li class="toc-section"><a href="#executive-summary">1. Executive Summary</a></li>
    <li class="toc-subsection"><a href="#problem">1.1 The Problem</a></li>
    <li class="toc-subsection"><a href="#solution">1.2 The Solution</a></li>
    <li class="toc-subsection"><a href="#pillars">1.3 The Three Pillars</a></li>
    
    <li class="toc-section"><a href="#architecture">2. System Architecture</a></li>
    <li class="toc-subsection"><a href="#overview">2.1 Architecture Overview</a></li>
    <li class="toc-subsection"><a href="#components">2.2 Core Components</a></li>
    <li class="toc-subsection"><a href="#hub">2.3 Griot Hub</a></li>
    <li class="toc-subsection"><a href="#flows">2.4 Data & Process Flows</a></li>
    
    <li class="toc-section"><a href="#contracts">3. Griot Contract Specification</a></li>
    <li class="toc-subsection"><a href="#desiderata">3.1 Contract Desiderata</a></li>
    <li class="toc-subsection"><a href="#schema">3.2 YAML Schema</a></li>
    <li class="toc-subsection"><a href="#sdk">3.3 Python SDK</a></li>
    <li class="toc-subsection"><a href="#example">3.4 Example Contract</a></li>
    
    <li class="toc-section"><a href="#integrations">4. Integration Points</a></li>
    <li class="toc-subsection"><a href="#cicd">4.1 CI/CD Integration</a></li>
    <li class="toc-subsection"><a href="#orchestration">4.2 Orchestration</a></li>
    <li class="toc-subsection"><a href="#warehouses">4.3 Data Warehouses</a></li>
    <li class="toc-subsection"><a href="#ai">4.4 AI/LLM Frameworks</a></li>
    
    <li class="toc-section"><a href="#comparison">5. Comparison to Alternatives</a></li>
    
    <li class="toc-section"><a href="#metrics">6. Success Metrics</a></li>
    
    <li class="toc-section"><a href="#glossary">7. Glossary</a></li>
  </ol>
</div>

<!-- Section 1: Executive Summary -->
<h1 id="executive-summary" class="page-break"><span class="section-num">1.</span> Executive Summary</h1>

<h2 id="problem">1.1 The Problem</h2>

<p>Enterprises across emerging markets face a critical data paradox: they are data-rich but insight-poor, paying an invisible "Data Cleanup Tax" that drains resources while leaving them vulnerable to regulatory fines and unable to leverage AI effectively.</p>

<div class="stats-grid">
  <div class="stat-card">
    <div class="stat-number">60-73%</div>
    <div class="stat-label">of enterprise data goes completely unused</div>
  </div>
  <div class="stat-card">
    <div class="stat-number">30%</div>
    <div class="stat-label">of IT development time wasted on integration issues</div>
  </div>
  <div class="stat-card">
    <div class="stat-number">KES 26.2M</div>
    <div class="stat-label">in ODPC fines issued in Kenya (2022-2024)</div>
  </div>
</div>

<h3>The Three-Fold Crisis</h3>

<p><strong>1. The Waste Crisis (FinOps)</strong><br>
Organizations are paying global cloud providers in hard currency to ingest, process, and store "Junk Data." Without data contracts, bad data flows downstream, triggering expensive reprocessing, wasted compute, and storage bloat. Your data stack is a leaky bucket subsidizing cloud giants with inefficient telemetry.</p>

<p><strong>2. The Compliance Crisis (Audit)</strong><br>
Regulatory enforcement is intensifying. Kenya's ODPC has fined institutions from Tier-1 banks (SBM) to tech firms (Oppo, Whitepath) for improper PII handling, lack of consent, and unsolicited communications. Most companies "hope" they are compliant but lack real-time lineage, automated masking, or auditable data governance. Compliance is no longer a checklist‚Äîit's a liability.</p>

<p><strong>3. The Knowledge Crisis (AI)</strong><br>
While data volumes grow exponentially, organizational knowledge flatlines. LLMs and analytics tools cannot interpret "Dirty Data." Without machine-readable semantic metadata, AI hallucinations are a predictable byproduct. Every day your data sits in a "Junk State" is a day competitors use AI to optimize operations, credit scoring, and customer retention.</p>

<h2 id="solution">1.2 The Solution</h2>

<p>Griot is an enterprise data contract <strong>layer</strong> that sits at the intersection of data producers (engineers) and data consumers (scientists, analysts, AI systems). It acts as both a shared agreement mechanism and an automated enforcement layer across the entire data lifecycle.</p>

<div class="callout callout-purple">
  <strong>Mission:</strong> To empower emerging market enterprises with Audit-Ready, Analytics-Ready, and AI-Ready data through a lean, shift-left architecture.
</div>

<p>Griot transforms data contracts from informal agreements into enforceable, machine-readable specifications that are validated at every stage‚Äîfrom pull request to production pipeline to AI consumption.</p>

<h2 id="pillars">1.3 The Three Pillars</h2>

<div class="pillars">
  <div class="pillar pillar-audit">
    <div class="pillar-icon">üõ°Ô∏è</div>
    <h4>Audit-Ready</h4>
    <p>Automated PII discovery, residency enforcement, and living lineage. Compliance as a system property, not a manual checklist.</p>
  </div>
  <div class="pillar pillar-analytics">
    <div class="pillar-icon">üìä</div>
    <h4>Analytics-Ready</h4>
    <p>Shift-left data contracts block "Junk Data" in CI/CD before it hits your cloud bill. Save 25-40% on infrastructure.</p>
  </div>
  <div class="pillar pillar-ai">
    <div class="pillar-icon">ü§ñ</div>
    <h4>AI-Ready</h4>
    <p>Machine-readable "Context Manifests" enable LLMs to query data with 99% accuracy via natural language.</p>
  </div>
</div>

<!-- Section 2: Architecture -->
<h1 id="architecture" class="page-break"><span class="section-num">2.</span> System Architecture</h1>

<h2 id="overview">2.1 Architecture Overview</h2>

<p>Griot's architecture follows a hub-and-spoke model, where a centralized contract registry serves as the authoritative source of truth, with enforcement agents distributed across producer systems, consumer systems, and runtime environments. At the center sits the Griot Hub‚Äîa web-based platform that democratizes contract authoring, monitoring, and governance across technical and non-technical stakeholders.</p>

<p>The design prioritizes four principles:</p>
<ul>
  <li><strong>Contracts as Code:</strong> Contracts are version-controlled, reviewable, and deployable like software</li>
  <li><strong>Shift-Left Validation:</strong> Catch breaking changes before they merge, not at 3 AM in production</li>
  <li><strong>Machine-Readable Metadata:</strong> Every contract element is parseable by validators, generators, and AI systems</li>
  <li><strong>Universal Accessibility:</strong> Technical and non-technical users can author and consume contracts</li>
</ul>

<h2 id="components">2.2 Core Components</h2>

<table>
  <tr>
    <th>Component</th>
    <th>Purpose</th>
    <th>Key Capabilities</th>
  </tr>
  <tr>
    <td><strong>Griot Hub</strong></td>
    <td>Central web platform</td>
    <td>Role-based dashboards, Contract Studio, compliance center, validation monitor</td>
  </tr>
  <tr>
    <td><strong>Griot SDK</strong></td>
    <td>Python contract authoring</td>
    <td>GriotModel classes, Field definitions, type safety, YAML rendering</td>
  </tr>
  <tr>
    <td><strong>Contract Registry</strong></td>
    <td>Version-controlled storage</td>
    <td>Semantic versioning, approval workflows, audit trail, API access</td>
  </tr>
  <tr>
    <td><strong>Pre-Push Validator</strong></td>
    <td>CI/CD enforcement</td>
    <td>Schema validation, constraint checking, breaking change detection</td>
  </tr>
  <tr>
    <td><strong>Mock Generator</strong></td>
    <td>Synthetic data creation</td>
    <td>Contract-compliant test data, PII-safe development datasets</td>
  </tr>
  <tr>
    <td><strong>Runtime Validator</strong></td>
    <td>Production data gate</td>
    <td>Schema validation, anomaly detection, SLA enforcement</td>
  </tr>
  <tr>
    <td><strong>Manifest Generator</strong></td>
    <td>AI-ready metadata export</td>
    <td>JSON-LD, LLM context files, semantic manifests</td>
  </tr>
</table>

<h2 id="hub">2.3 Griot Hub</h2>

<p>The Hub is the central nervous system of the Griot ecosystem‚Äîa web application that provides role-based interfaces for all organizational stakeholders. It serves as both an authoring environment for non-technical users and a monitoring dashboard for leadership and compliance teams.</p>

<h3>Stakeholder Views</h3>

<table>
  <tr>
    <th>Persona</th>
    <th>Primary View</th>
    <th>Key Capabilities</th>
  </tr>
  <tr>
    <td><strong>CEO</strong></td>
    <td>Executive Dashboard</td>
    <td>Organization-wide data health score, strategic risk indicators, ROI metrics, trend lines</td>
  </tr>
  <tr>
    <td><strong>CFO</strong></td>
    <td>FinOps Dashboard</td>
    <td>Compute costs saved, storage costs avoided, cost attribution by team, budget forecasting</td>
  </tr>
  <tr>
    <td><strong>CTO</strong></td>
    <td>Technical Health</td>
    <td>Contract coverage, validation failure rates, integration status, technical debt indicators</td>
  </tr>
  <tr>
    <td><strong>Audit Personnel</strong></td>
    <td>Compliance Center</td>
    <td>PII inventory, data lineage, consent tracking, exportable audit reports</td>
  </tr>
  <tr>
    <td><strong>Product/Business</strong></td>
    <td>Contract Studio</td>
    <td>Visual contract builder, plain-language descriptions, collaboration workflows</td>
  </tr>
  <tr>
    <td><strong>Engineer</strong></td>
    <td>Developer Console</td>
    <td>Contract search, CLI reference, validation logs, integration configuration</td>
  </tr>
</table>

<h3>Bidirectional Contract Flow</h3>

<p>Griot maintains full bidirectional compatibility between Python code, YAML contracts, and Hub-authored contracts. This ensures that regardless of where a contract originates, it can be consumed and modified in any format.</p>

<div class="callout callout-info">
  <strong>Example Workflow:</strong> A product manager creates a contract in the Hub's Contract Studio. The contract is assigned ID <code>CONTRACT-CHURN-001</code> and stored in the registry. The data engineer pulls it via CLI: <code>griot contract pull CONTRACT-CHURN-001 --path ./contracts/</code> and receives a generated Python file with GriotModel classes.
</div>

<h2 id="flows">2.4 Data & Process Flows</h2>

<h3>The End-to-End Lifecycle</h3>

<p><strong>Phase 1: Contract Creation</strong><br>
Product manager defines requirements in Hub, or engineer authors via SDK. Contract stored in registry with unique ID.</p>

<p><strong>Phase 2: Collaborative Agreement</strong><br>
Consumer reviews and approves contract. Approval chain logged for audit. Version incremented.</p>

<p><strong>Phase 3: Shift-Left Validation</strong><br>
Engineer modifies transformation code. CI/CD runs pre-push validator. Breaking changes blocked before merge.</p>

<p><strong>Phase 4: Parallel Development</strong><br>
Scientist generates mock data from contract. Builds features and models without waiting for production data.</p>

<p><strong>Phase 5: Runtime Gate</strong><br>
Production validator checks output against contract. Bad data blocked from warehouse. Alerts fire on violations.</p>

<p><strong>Phase 6: AI-Ready Delivery</strong><br>
Manifest generator exports semantic metadata. LLMs consume context for accurate natural language querying.</p>

<!-- Section 3: Contracts -->
<h1 id="contracts" class="page-break"><span class="section-num">3.</span> Griot Contract Specification</h1>

<h2 id="desiderata">3.1 Contract Desiderata</h2>

<p>A Griot contract must answer three fundamental questions for every dataset:</p>
<ol>
  <li><strong>What is this data?</strong> (Schema, structure, semantics)</li>
  <li><strong>What promises does it make?</strong> (Quality, freshness, completeness)</li>
  <li><strong>What rules govern it?</strong> (Privacy, retention, access, lineage)</li>
</ol>

<h3>The Nine Categories</h3>

<table>
  <tr>
    <th>Category</th>
    <th>Audit-Ready</th>
    <th>Analytics-Ready</th>
    <th>AI-Ready</th>
  </tr>
  <tr>
    <td>Identity & Ownership</td>
    <td>Accountability</td>
    <td>Contact info</td>
    <td>Provenance context</td>
  </tr>
  <tr>
    <td>Schema Definition</td>
    <td>Legal structure</td>
    <td>Predictable types</td>
    <td>Query generation</td>
  </tr>
  <tr>
    <td>Constraints</td>
    <td>Business rules</td>
    <td>Validation</td>
    <td>Value bounds</td>
  </tr>
  <tr>
    <td>Semantic Metadata</td>
    <td>Meaning clarity</td>
    <td>Correct usage</td>
    <td>NL understanding</td>
  </tr>
  <tr>
    <td>Privacy & Compliance</td>
    <td>Regulatory proof</td>
    <td>Env-appropriate data</td>
    <td>PII boundaries</td>
  </tr>
  <tr>
    <td>Lineage & Provenance</td>
    <td>Traceability</td>
    <td>Debugging</td>
    <td>Source attribution</td>
  </tr>
  <tr>
    <td>Quality SLAs</td>
    <td>Auditable commitments</td>
    <td>Reliability expectations</td>
    <td>Confidence calibration</td>
  </tr>
  <tr>
    <td>Access Control</td>
    <td>Access logs</td>
    <td>Self-service</td>
    <td>Permission awareness</td>
  </tr>
  <tr>
    <td>Governance</td>
    <td>Legal agreement</td>
    <td>Change management</td>
    <td>Trust signals</td>
  </tr>
</table>

<h2 id="schema">3.2 YAML Schema Structure</h2>

<p>The canonical contract structure includes these major sections:</p>

<pre><code># Griot Contract Schema v1.0.0

# Griot Contract Schema v1.0.0
# This is the authoritative structure for all Griot contracts

###############################################################################
# 1. IDENTITY & OWNERSHIP
###############################################################################
contract:
  id: string                          # Required. Globally unique identifier
  name: string                        # Required. Human-readable name
  version: string                     # Required. Semantic version (major.minor.patch)
  status: enum                        # Required. draft | active | deprecated | retired
  
  description: string                 # Required. Plain-language summary
  
  owner:
    team: string                      # Required. Accountable team
    email: string                     # Required. Team contact
    steward:                          # Optional. Individual contact
      name: string
      email: string
  
  domain: string                      # Required. Business domain classification
  tags: [string]                      # Optional. Searchable labels
  
  timestamps:
    created_at: datetime              # Required. ISO 8601
    updated_at: datetime              # Required. ISO 8601
    effective_from: date              # Optional. When contract becomes active
    effective_until: date             # Optional. When contract expires

###############################################################################
# 2. SCHEMA DEFINITION
###############################################################################
schema:
  type: enum                          # Required. table | event | document | api_response
  format: enum                        # Required. parquet | csv | json | avro | protobuf
  
  fields:
    - name: string                    # Required. Field identifier
      type: string                    # Required. Data type (see type system below)
      nullable: boolean               # Required. Whether nulls are permitted
      
      # Keys & References
      primary_key: boolean            # Optional. Default false
      foreign_key:                    # Optional. Reference to another contract
        contract: string              # Contract ID
        field: string                 # Field name in referenced contract
      
      # Constraints (see section 3)
      constraints: object
      
      # Semantic Metadata (see section 4)
      semantic: object
      
      # Privacy & Compliance (see section 5)
      privacy: object

# Type System
# Primitives: string, integer, float, boolean, date, timestamp, time, bytes
# Complex: array<T>, map<K,V>, struct<fields...>
# Special: uuid, email, url, ip_address, json

###############################################################################
# 3. CONSTRAINTS & VALIDATION RULES
###############################################################################
# Defined per-field within schema.fields[].constraints

constraints:
  # String constraints
  pattern: string                     # Regex pattern
  min_length: integer                 # Minimum character count
  max_length: integer                 # Maximum character count
  format: enum                        # email | url | uuid | date | datetime | ip
  
  # Numeric constraints
  minimum: number                     # Inclusive minimum (>=)
  maximum: number                     # Inclusive maximum (<=)
  exclusive_minimum: number           # Exclusive minimum (>)
  exclusive_maximum: number           # Exclusive maximum (<)
  multiple_of: number                 # Must be divisible by
  
  # Enum constraint
  enum: [any]                         # List of allowed values
  
  # Uniqueness
  unique: boolean                     # No duplicate values in dataset
  
  # Custom rules (SQL-like expressions)
  custom_rules:
    - name: string                    # Rule identifier
      expression: string              # SQL/Python expression
      description: string             # What this rule enforces
      severity: enum                  # error | warning

# Dataset-level quality rules (outside field definitions)
quality:
  completeness:
    min_percent: number               # Minimum non-null percentage (0-100)
    critical_fields: [string]         # Fields that must never be null
  
  freshness:
    max_age: duration                 # Maximum data age (ISO 8601 duration: PT24H)
    timestamp_field: string           # Field to measure freshness against
  
  volume:
    min_rows: integer                 # Minimum expected row count
    max_rows: integer                 # Maximum expected row count
    growth_rate:                      # Expected change between refreshes
      min_percent: number
      max_percent: number
  
  uniqueness:
    primary_key: [string]             # Fields forming unique identifier
    unique_combinations: [[string]]   # Other unique field combinations
  
  referential_integrity:
    - local_fields: [string]          # Fields in this contract
      foreign_contract: string        # Referenced contract ID
      foreign_fields: [string]        # Fields in referenced contract
      on_violation: enum              # error | warning | log
  
  custom_checks:
    - name: string
      type: enum                      # sql | python | great_expectations
      definition: string              # The check logic
      severity: enum                  # error | warning

###############################################################################
# 4. SEMANTIC METADATA
###############################################################################
# Defined per-field within schema.fields[].semantic

semantic:
  description: string                 # Required. Plain-language explanation
  
  business_definition:
    term: string                      # Glossary term
    glossary_uri: string              # Link to business glossary
  
  unit:
    type: string                      # Unit of measure (KES, USD, days, percentage, etc.)
    precision: integer                # Decimal places of significance
  
  aggregation:
    default_method: enum              # sum | average | count | count_distinct | min | max | none
    invalid_methods: [enum]           # Methods that should never be used
  
  interpretation:
    notes: string                     # Caveats and edge cases
    valid_range_context: string       # Business context for valid values
    null_meaning: string              # What a null value represents
  
  relationships:
    synonyms: [string]                # Alternative names
    related_fields: [string]          # Fields commonly used together
    derived_from: string              # Source field if calculated
    calculation: string               # Formula if derived
  
  classification:
    category: string                  # Business category
    subcategory: string               # More specific classification
    is_metric: boolean                # Whether this is a KPI/metric
    is_dimension: boolean             # Whether this is a dimension for slicing

# Dataset-level semantic metadata
semantic_context:
  business_purpose: string            # Why this dataset exists
  use_cases: [string]                 # Intended use cases
  limitations: [string]               # Known limitations or caveats
  update_frequency: string            # Human-readable refresh description
  grain: string                       # What one row represents
  temporal_coverage:
    start: date                       # Earliest data point
    end: date                         # Latest data point (or "ongoing")

###############################################################################
# 5. PRIVACY & COMPLIANCE
###############################################################################
# Defined per-field within schema.fields[].privacy

privacy:
  contains_pii: boolean               # Required for all fields
  
  pii_category: enum                  # If contains_pii is true
    # direct_identifier: name, email, phone, national_id, passport
    # quasi_identifier: age, gender, zip_code, job_title
    # sensitive: health, financial, biometric, genetic, political, religious, sexual
    # behavioral: location, browsing, purchase_history
  
  sensitivity_level: enum             # public | internal | confidential | restricted
  
  masking:
    strategy: enum                    # none | redact | hash_sha256 | hash_md5 | tokenize | 
                                      # generalize | k_anonymize | differential_privacy | encrypt
    parameters: object                # Strategy-specific config
      # For generalize: { precision: "year" } for dates
      # For k_anonymize: { k: 5 }
      # For differential_privacy: { epsilon: 0.1 }
  
  encryption:
    at_rest: boolean                  # Required for restricted data
    algorithm: string                 # AES-256, RSA-2048, etc.
    key_management: string            # KMS identifier or policy
  
  retention:
    period: duration                  # ISO 8601 duration (P365D, P7Y)
    policy: string                    # Reference to retention policy document
    deletion_method: enum             # hard_delete | soft_delete | anonymize
  
  legal:
    basis: enum                       # consent | contract | legal_obligation | vital_interest |
                                      # public_task | legitimate_interest
    consent_id: string                # Reference to consent record if basis is consent
    regulations: [string]             # Applicable regulations: GDPR, CCPA, HIPAA, etc.
  
  data_subject_rights:
    access: boolean                   # Subject can request their data
    rectification: boolean            # Subject can correct their data
    erasure: boolean                  # Subject can request deletion
    portability: boolean              # Subject can export their data
    objection: boolean                # Subject can object to processing
  
  cross_border:
    restrictions: [string]            # Countries/regions where data cannot go
    transfer_mechanisms: [string]     # SCCs, BCRs, adequacy decisions
    data_residency: string            # Where data must be stored

# Dataset-level compliance
compliance:
  data_classification: enum           # public | internal | confidential | restricted
  regulatory_scope: [string]          # GDPR, CCPA, HIPAA, PCI-DSS, SOX, etc.
  audit_requirements:
    logging: boolean                  # Whether access must be logged
    log_retention: duration           # How long to keep access logs
  certification_requirements: [string] # SOC2, ISO27001, etc.

###############################################################################
# 6. LINEAGE & PROVENANCE
###############################################################################
lineage:
  sources:
    - type: enum                      # system | contract | file | api | stream
      identifier: string              # System name, contract ID, path, URL, topic
      description: string             # What this source provides
      fields_used: [string]           # Which fields come from this source
      extraction:
        method: enum                  # full | incremental | cdc
        filter: string                # Any filtering applied
  
  transformation:
    repository: string                # Git repo URL
    path: string                      # Path to transformation code
    commit: string                    # Specific commit hash (optional)
    engine: enum                      # spark | dbt | airflow | dagster | custom
    description: string               # What the transformation does
  
  refresh:
    schedule: string                  # Cron expression or descriptor
    timezone: string                  # Timezone for schedule
    method: enum                      # batch | streaming | on_demand
    typical_duration: duration        # Expected processing time
    sla: duration                     # Maximum allowed processing time
  
  dependencies:
    upstream: [string]                # Contract IDs this depends on
    downstream: [string]              # Contract IDs that depend on this

###############################################################################
# 7. QUALITY SLAs & OBSERVABILITY
###############################################################################
sla:
  availability:
    target_percent: number            # e.g., 99.9
    measurement_window: duration      # e.g., P30D (30 days)
  
  freshness:
    target: duration                  # e.g., PT4H (4 hours)
    measurement_field: string         # Field to measure against
  
  completeness:
    target_percent: number            # e.g., 99.5
    critical_fields: [string]         # Fields with stricter requirements
    critical_target_percent: number   # e.g., 99.99
  
  accuracy:
    error_rate_target: number         # e.g., 0.001 (0.1%)
    validation_method: string         # How accuracy is measured
  
  response_time:                      # For API-style access
    p50_ms: integer
    p99_ms: integer

observability:
  health_endpoint: string             # URL to check contract health
  metrics_endpoint: string            # URL for detailed metrics
  
  alerting:
    channels:
      - type: enum                    # slack | pagerduty | email | webhook
        target: string                # Channel ID, email, URL
        severity: [enum]              # Which severities go here
    
    escalation:
      - level: integer                # 1, 2, 3...
        delay: duration               # Time before escalating
        contacts: [string]            # Who to contact
  
  dashboards:
    - name: string
      url: string
      description: string

###############################################################################
# 8. ACCESS CONTROL & DISTRIBUTION
###############################################################################
access:
  default_level: enum                 # public | internal | restricted | denied
  
  grants:
    - principal: string               # team://, role://, user://, service://
      level: enum                     # read | write | admin
      fields: [string]                # Optional. Specific fields (default: all)
      expiry: date                    # Optional. When grant expires
      conditions: object              # Optional. Additional conditions
  
  approval:
    required: boolean                 # Whether access requires approval
    approvers: [string]               # Who can approve
    workflow: string                  # Reference to approval workflow
  
  authentication:
    methods: [string]                 # oauth2, api_key, mtls, etc.
    provider: string                  # Identity provider

distribution:
  channels:
    - type: enum                      # warehouse | lake | api | stream | file
      identifier: string              # Project.dataset.table, s3://path, topic, etc.
      format: string                  # parquet, json, avro, etc.
      partitioning:
        fields: [string]
        strategy: enum                # date | hash | range
      
  api:
    endpoint: string                  # Base URL
    documentation: string             # API docs URL
    rate_limits:
      requests_per_minute: integer
      rows_per_request: integer
  
  export_restrictions:
    allow_download: boolean
    allow_external_transfer: boolean
    allowed_destinations: [string]    # If external transfer is conditional

###############################################################################
# 9. GOVERNANCE & AGREEMENTS
###############################################################################
governance:
  producer:
    team: string
    contact: string
    responsibilities: [string]        # What producer commits to
  
  consumers:
    - team: string
      contact: string
      use_case: string                # Why they need this data
      approved_date: date
      approved_by: string
  
  approval_chain:
    - role: string                    # data_owner | privacy_officer | security | legal
      approver: string                # Who approved
      approved_date: datetime
      comments: string
  
  review:
    cadence: enum                     # monthly | quarterly | annually
    last_review: date
    next_review: date
    reviewers: [string]
  
  change_management:
    breaking_change_notice: duration  # e.g., P30D (30 days notice)
    deprecation_notice: duration      # e.g., P90D (90 days notice)
    communication_channels: [string]  # Where changes are announced
    migration_support: boolean        # Whether team helps consumers migrate
  
  dispute_resolution:
    process: string                   # Description or link to process
    escalation_path: [string]         # Who to escalate to
  
  documentation:
    wiki: string                      # Link to detailed documentation
    runbook: string                   # Link to operational runbook
    changelog: string                 # Link to change history
</code></pre>

<h2 id="sdk">3.3 Python SDK</h2>

<p>The SDK provides a Pythonic interface for contract definition with full type safety:</p>

<pre><code>from griot import GriotModel, Field, contract, ContractConfig
from griot import PIICategory, MaskingStrategy, AggregationMethod

@contract(ContractConfig(
    id="CONTRACT-CHURN-001",
    name="Customer Churn Dataset",
    version="1.0.0",
    domain="Customer Analytics",
    owner=Owner(team="Retail Analytics", email="retail@company.com")
))
class ChurnContract(GriotModel):
    
    customer_id: str = Field(
        description="Unique customer identifier",
        pattern=r"^CUST-[A-Z0-9]{8}$",
        primary_key=True
    )
    
    email: str = Field(
        description="Customer email address",
        pii_category=PIICategory.EMAIL,
        masking=MaskingStrategy.HASH_SHA256,
        retention_days=365
    )
    
    total_spend_30d: float = Field(
        description="Total spend in last 30 days",
        ge=0,
        unit="KES",
        aggregation_method=AggregationMethod.SUM
    )
    
    is_churned: bool = Field(
        description="True if customer churned within 30 days"
    )
</code></pre>

<h2 id="example">3.4 Field Definition Reference</h2>

<p>The <code>Field()</code> function accepts parameters across four categories:</p>

<h4>Schema Parameters</h4>
<ul>
  <li><code>nullable</code> - Whether null values are permitted</li>
  <li><code>primary_key</code> - Part of unique identifier</li>
  <li><code>foreign_key</code> - Reference to another contract</li>
</ul>

<h4>Constraint Parameters</h4>
<ul>
  <li><code>pattern</code> - Regex for string validation</li>
  <li><code>min_length</code>, <code>max_length</code> - String length bounds</li>
  <li><code>ge</code>, <code>le</code>, <code>gt</code>, <code>lt</code> - Numeric bounds</li>
  <li><code>enum</code> - List of allowed values</li>
  <li><code>unique</code> - No duplicates allowed</li>
</ul>

<h4>Semantic Parameters</h4>
<ul>
  <li><code>description</code> - Plain-language explanation (required)</li>
  <li><code>unit</code> - Unit of measure (KES, days, percentage)</li>
  <li><code>aggregation_method</code> - How to correctly aggregate</li>
  <li><code>business_term</code> - Link to business glossary</li>
  <li><code>synonyms</code> - Alternative names</li>
</ul>

<h4>Privacy Parameters</h4>
<ul>
  <li><code>pii_category</code> - Type of PII (email, phone, national_id)</li>
  <li><code>sensitivity_level</code> - public, internal, confidential, restricted</li>
  <li><code>masking</code> - Masking strategy for non-prod</li>
  <li><code>retention_days</code> - How long data may be kept</li>
  <li><code>legal_basis</code> - GDPR lawful basis</li>
</ul>

<!-- Section 4: Integrations -->
<h1 id="integrations" class="page-break"><span class="section-num">4.</span> Integration Points</h1>

<p>Griot is designed to be infrastructure-agnostic, meeting teams where they are rather than forcing adoption of new tooling.</p>

<h2 id="cicd">4.1 CI/CD Integration</h2>

<h3>GitHub Actions</h3>

<p>Griot provides pre-built GitHub Actions for contract validation:</p>

<pre><code>name: Griot Contract Validation
on:
  pull_request:
    paths: ['contracts/**', 'transforms/**']

jobs:
  validate:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - run: pip install griot-cli
      
      - name: Lint Contracts
        run: griot lint contracts/ --strict
      
      - name: Check Breaking Changes
        run: griot diff --fail-on-breaking
      
      - name: Validate Output
        run: griot test --contracts contracts/
</code></pre>

<h3>GitLab CI</h3>

<p>Equivalent pipeline configuration for GitLab:</p>

<pre><code>validate-contracts:
  stage: validate
  script:
    - pip install griot-cli
    - griot lint contracts/ --strict
    - griot diff --fail-on-breaking
  rules:
    - changes: [contracts/**/*]
</code></pre>

<h2 id="orchestration">4.2 Orchestration Integration</h2>

<h3>Apache Airflow</h3>

<p>Griot provides custom operators for runtime validation:</p>

<pre><code>from griot_airflow import GriotValidateOperator

validate_task = GriotValidateOperator(
    task_id='validate_output',
    contract_id='CONTRACT-CHURN-001',
    data_path='gs://bucket/output/',
    fail_on_error=True,
    error_threshold=0.001
)
</code></pre>

<h3>Dagster</h3>

<p>Native integration with Dagster's asset-based paradigm:</p>

<pre><code>from griot_dagster import griot_asset

@griot_asset(contract_id='CONTRACT-CHURN-001')
def churn_features(customers, transactions):
    # Transform logic - output automatically validated
    return features_df
</code></pre>

<h2 id="warehouses">4.3 Data Warehouse Integration</h2>

<table>
  <tr>
    <th>Warehouse</th>
    <th>Integration Capabilities</th>
  </tr>
  <tr>
    <td><strong>BigQuery</strong></td>
    <td>Schema deployment, column policies, validation views, freshness monitoring</td>
  </tr>
  <tr>
    <td><strong>Snowflake</strong></td>
    <td>Tag management, dynamic masking policies, validation tasks, streams</td>
  </tr>
  <tr>
    <td><strong>Databricks</strong></td>
    <td>Unity Catalog integration, Delta table validation, MLflow metadata sync</td>
  </tr>
</table>

<h2 id="ai">4.4 AI/LLM Framework Integration</h2>

<p>Griot generates machine-readable manifests for AI consumption:</p>

<pre><code># Generate LLM context from contract
griot manifest generate \
  --contract CONTRACT-CHURN-001 \
  --format llm_context \
  --output context/churn.json
</code></pre>

<p>The manifest includes semantic descriptions, units, relationships, and constraints‚Äîenabling accurate natural language querying with 99% accuracy.</p>

<!-- Section 5: Comparison -->
<h1 id="comparison" class="page-break"><span class="section-num">5.</span> Comparison to Alternatives</h1>

<p>Griot enters a landscape with established tools. Understanding this landscape clarifies Griot's unique positioning.</p>

<table>
  <tr>
    <th>Capability</th>
    <th>Great Expectations</th>
    <th>dbt Tests</th>
    <th>Data Catalogs</th>
    <th>Griot</th>
  </tr>
  <tr>
    <td>Schema validation</td>
    <td>‚úì</td>
    <td>‚úì</td>
    <td>‚úó</td>
    <td>‚úì</td>
  </tr>
  <tr>
    <td>Constraint validation</td>
    <td>‚úì</td>
    <td>‚úì</td>
    <td>‚úó</td>
    <td>‚úì</td>
  </tr>
  <tr>
    <td>Semantic metadata</td>
    <td>‚úó</td>
    <td>‚úó</td>
    <td>‚úì</td>
    <td>‚úì</td>
  </tr>
  <tr>
    <td>PII governance</td>
    <td>‚úó</td>
    <td>‚úó</td>
    <td>Limited</td>
    <td>‚úì</td>
  </tr>
  <tr>
    <td>Producer-consumer contracts</td>
    <td>‚úó</td>
    <td>‚úó</td>
    <td>‚úó</td>
    <td>‚úì</td>
  </tr>
  <tr>
    <td>Shift-left CI/CD</td>
    <td>Limited</td>
    <td>Limited</td>
    <td>‚úó</td>
    <td>‚úì</td>
  </tr>
  <tr>
    <td>Non-technical UI</td>
    <td>‚úó</td>
    <td>‚úó</td>
    <td>‚úì</td>
    <td>‚úì</td>
  </tr>
  <tr>
    <td>Mock data generation</td>
    <td>‚úó</td>
    <td>‚úó</td>
    <td>‚úó</td>
    <td>‚úì</td>
  </tr>
  <tr>
    <td>AI-ready export</td>
    <td>‚úó</td>
    <td>‚úó</td>
    <td>Limited</td>
    <td>‚úì</td>
  </tr>
</table>

<h3>Griot's Unique Value Proposition</h3>

<ol>
  <li><strong>Contracts as Code + Contracts as Collaboration:</strong> Technical users get a Python SDK; non-technical users get the Hub. Same contracts, different interfaces.</li>
  <li><strong>Enforcement, Not Just Documentation:</strong> Unlike catalogs and wikis, Griot contracts are enforced in CI/CD and runtime.</li>
  <li><strong>Semantic Depth for AI:</strong> While other tools stop at schema, Griot captures the meaning needed for LLMs to query accurately.</li>
  <li><strong>Privacy by Design:</strong> PII governance is foundational, not an afterthought.</li>
  <li><strong>Local-First:</strong> Adapters built for the M-Pesa/emerging market ecosystem.</li>
</ol>

<!-- Section 6: Metrics -->
<h1 id="metrics" class="page-break"><span class="section-num">6.</span> Success Metrics</h1>

<h2>Operational Reliability</h2>

<table>
  <tr>
    <th>Metric</th>
    <th>Definition</th>
    <th>Target</th>
  </tr>
  <tr>
    <td>Production Incidents</td>
    <td>Monthly P1/P2 data quality incidents</td>
    <td>70% reduction</td>
  </tr>
  <tr>
    <td>Shift-Left Catch Rate</td>
    <td>Breaking changes caught in CI/CD vs production</td>
    <td>95%+</td>
  </tr>
  <tr>
    <td>Contract Coverage</td>
    <td>Production datasets under Griot contracts</td>
    <td>80% within 12 months</td>
  </tr>
</table>

<h2>Developer Productivity</h2>

<table>
  <tr>
    <th>Metric</th>
    <th>Definition</th>
    <th>Target</th>
  </tr>
  <tr>
    <td>Debugging Time</td>
    <td>Hours spent investigating data issues</td>
    <td>60% reduction</td>
  </tr>
  <tr>
    <td>Schema Change Coordination</td>
    <td>Time in meetings coordinating changes</td>
    <td>80% reduction</td>
  </tr>
  <tr>
    <td>Documentation Currency</td>
    <td>Datasets with up-to-date docs</td>
    <td>100%</td>
  </tr>
</table>

<h2>Compliance & Audit Readiness</h2>

<table>
  <tr>
    <th>Metric</th>
    <th>Definition</th>
    <th>Target</th>
  </tr>
  <tr>
    <td>Audit Preparation Time</td>
    <td>Person-hours to prepare for audit</td>
    <td>Weeks ‚Üí Days</td>
  </tr>
  <tr>
    <td>PII Inventory Completeness</td>
    <td>PII fields tagged and documented</td>
    <td>100%</td>
  </tr>
  <tr>
    <td>Data Subject Request Time</td>
    <td>Time to fulfill GDPR/DPA requests</td>
    <td>80% reduction</td>
  </tr>
</table>

<h2>Cost Optimization (FinOps)</h2>

<table>
  <tr>
    <th>Metric</th>
    <th>Definition</th>
    <th>Target</th>
  </tr>
  <tr>
    <td>Wasted Compute Prevented</td>
    <td>Cost of processing blocked bad data</td>
    <td>25-40% savings</td>
  </tr>
  <tr>
    <td>Reprocessing Costs Avoided</td>
    <td>Cost of pipeline reruns prevented</td>
    <td>80% reduction</td>
  </tr>
  <tr>
    <td>Pipeline Failure Rate</td>
    <td>Scheduled runs that fail</td>
    <td>50% reduction</td>
  </tr>
</table>

<h2>ROI Framework</h2>

<div class="callout callout-success">
  <strong>Example Annual ROI Calculation:</strong><br><br>
  Compute savings: 500 blocked jobs/month √ó $50 √ó 12 = <strong>$300,000</strong><br>
  Debugging time: 20 hrs/week √ó $100/hr √ó 52 = <strong>$104,000</strong><br>
  Avoided incidents: 5 P1s √ó $50,000 = <strong>$250,000</strong><br>
  Audit prep savings: 80 hrs √ó 4 audits √ó $75 = <strong>$24,000</strong><br><br>
  <strong>Total Annual Value: $678,000</strong><br>
  Investment: $150,000<br>
  <strong>ROI: 352%</strong>
</div>

<!-- Section 7: Glossary -->
<h1 id="glossary" class="page-break"><span class="section-num">7.</span> Glossary</h1>

<table>
  <tr>
    <th>Term</th>
    <th>Definition</th>
  </tr>
  <tr>
    <td><strong>Contract</strong></td>
    <td>A formal, machine-readable specification that defines the schema, constraints, semantics, and governance rules for a dataset.</td>
  </tr>
  <tr>
    <td><strong>Producer</strong></td>
    <td>The team or system responsible for creating and maintaining a dataset (typically data engineering).</td>
  </tr>
  <tr>
    <td><strong>Consumer</strong></td>
    <td>A team, system, or AI that uses data governed by a contract (analytics, ML, LLMs).</td>
  </tr>
  <tr>
    <td><strong>Registry</strong></td>
    <td>The centralized, version-controlled repository where contracts are stored and accessed.</td>
  </tr>
  <tr>
    <td><strong>Shift-Left</strong></td>
    <td>Moving validation earlier in the development lifecycle‚Äîcatching issues at PR time rather than production.</td>
  </tr>
  <tr>
    <td><strong>PII</strong></td>
    <td>Personally Identifiable Information‚Äîdata that can identify an individual (email, phone, ID number).</td>
  </tr>
  <tr>
    <td><strong>Manifest</strong></td>
    <td>A machine-readable export of contract metadata optimized for AI/LLM consumption.</td>
  </tr>
  <tr>
    <td><strong>SLA</strong></td>
    <td>Service Level Agreement‚Äîmeasurable commitments for data quality (freshness, completeness, accuracy).</td>
  </tr>
  <tr>
    <td><strong>Lineage</strong></td>
    <td>The record of where data comes from (upstream) and where it goes (downstream).</td>
  </tr>
  <tr>
    <td><strong>Semantic Metadata</strong></td>
    <td>Information about meaning‚Äîdescriptions, units, business definitions, aggregation rules.</td>
  </tr>
  <tr>
    <td><strong>Masking</strong></td>
    <td>Techniques to protect PII in non-production environments (hashing, redaction, generalization).</td>
  </tr>
  <tr>
    <td><strong>Breaking Change</strong></td>
    <td>A modification to a contract that would cause downstream consumers to fail (removed field, type change).</td>
  </tr>
</table>

<!-- Footer -->
<div class="doc-footer">
  <p><strong>Griot Data Technologies</strong></p>
  <p>Technical Specification Document v1.0.0</p>
  <p>¬© 2025 Griot Data Technologies. All rights reserved.</p>
  <p style="margin-top: 20px; font-style: italic;">"We Bridge the Gap Between Raw Data and Real Value"</p>
</div>

</body>
</html>
