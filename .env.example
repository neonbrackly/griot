# =============================================================================
# Griot Platform Environment Configuration
# =============================================================================
# Copy this file to .env and adjust values for your environment.
# For local development, copy to .env.local (git-ignored by default).
#
# Naming Convention:
#   GRIOT_<MODULE>_<SETTING>=value
#
# =============================================================================

# -----------------------------------------------------------------------------
# GRIOT REGISTRY (FastAPI Backend)
# -----------------------------------------------------------------------------
# All registry settings use the GRIOT_REGISTRY_ prefix

# Server binding
GRIOT_REGISTRY_HOST=0.0.0.0
GRIOT_REGISTRY_PORT=8000
GRIOT_REGISTRY_DEBUG=false
GRIOT_REGISTRY_LOG_LEVEL=INFO

# CORS - comma-separated list of allowed origins
# Use "*" for development, specific origins for production
GRIOT_REGISTRY_CORS_ORIGINS=["http://localhost:3000","http://localhost:8000"]

# Storage backend: filesystem | git | postgres
GRIOT_REGISTRY_STORAGE_BACKEND=filesystem
GRIOT_REGISTRY_STORAGE_PATH=./data/contracts

# PostgreSQL (when STORAGE_BACKEND=postgres)
# GRIOT_REGISTRY_POSTGRES_DSN=postgresql+asyncpg://user:pass@localhost:5432/griot

# Git storage (when STORAGE_BACKEND=git)
# GRIOT_REGISTRY_GIT_REPO_PATH=/path/to/repo
# GRIOT_REGISTRY_GIT_BRANCH=main

# Authentication
GRIOT_REGISTRY_AUTH_ENABLED=false
GRIOT_REGISTRY_API_KEY_HEADER=X-API-Key
# GRIOT_REGISTRY_API_KEYS=["key1","key2"]

# -----------------------------------------------------------------------------
# GRIOT HUB (Next.js Frontend)
# -----------------------------------------------------------------------------
# Next.js requires NEXT_PUBLIC_ prefix for browser-accessible variables

# Registry API URL - MUST include /api/v1 suffix
# For Docker: use service name (http://griot-registry:8000/api/v1)
# For local dev: use localhost (http://localhost:8000/api/v1)
NEXT_PUBLIC_REGISTRY_API_URL=http://localhost:8000/api/v1

# Optional: API key for authenticated requests
# NEXT_PUBLIC_REGISTRY_API_KEY=

# -----------------------------------------------------------------------------
# DOCKER COMPOSE SPECIFIC
# -----------------------------------------------------------------------------
# These are used by docker-compose.yml for build-time configuration

# Exposed ports (host:container)
GRIOT_HUB_PORT=3000
GRIOT_REGISTRY_PORT=8000

# Build-time registry URL for Next.js (used during docker build)
# This gets baked into the Next.js bundle
REGISTRY_URL_FOR_BUILD=http://griot-registry:8000/api/v1
